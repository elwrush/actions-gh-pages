<!-- SLIDE: MATCHING -->
<section data-auto-animate data-transition="convex">
    <div
        style="display: flex; justify-content: space-between; align-items: flex-end; margin-bottom: 15px; width: 1100px; margin-left: auto; margin-right: auto;">
        <div style="text-align: left;">
            <div class="stage-badge"
                style="background: var(--maroon); color: white; display: inline-block; padding: 4px 12px; font-weight: 800; font-size: 0.6em; transform: skew(-5deg);">
                {{ slide.badge | default('POWER MATCH') }}</div>
            <h2 style="color: var(--gold); font-size: 44px; margin: 5px 0;">{{ slide.title | default('Vocabulary Match')
                }}</h2>
        </div>

        {% if slide.timer and not slide.is_answer %}
        <div style="transform: scale(0.8); transform-origin: right bottom;">
            <timer-pill duration="{{ slide.timer }}"></timer-pill>
        </div>
        {% endif %}
    </div>

    <div class="glass-box"
        style="padding: 25px 40px; border-radius: 20px; border: 1px solid rgba(255,215,0,0.2); background: rgba(5, 8, 17, 0.95); width: 1150px; margin: 0 auto;">
        <div style="display: flex; gap: 30px; align-items: stretch;">
            <!-- Words Column (STAY STILL) -->
            <div style="flex: 1; display: flex; flex-direction: column; gap: 10px;">
                {% for item in slide.pairs %}
                <div data-id="fixed-word-{{ item.id }}"
                    style="background: rgba(167, 43, 38, 0.2); border-left: 5px solid var(--maroon); padding: 10px 20px; font-size: 26px; font-weight: 800; color: white; display: flex; align-items: center; height: 55px;">
                    <span style="color: var(--gold); margin-right: 15px;">{{ loop.index }}.</span> {{ item.word }}
                </div>
                {% endfor %}
            </div>

            <!-- Definitions Column (MOVE and BIG FONT) -->
            <div style="flex: 2; display: flex; flex-direction: column; gap: 10px;">
                {% if slide.is_answer %}
                {% for item in slide.pairs %}
                <div data-id="moving-def-{{ item.id }}"
                    style="background: rgba(255, 215, 0, 0.1); border-left: 5px solid var(--gold); padding: 10px 20px; font-size: 26px; font-weight: 600; color: #f8fafc; height: 55px; display: flex; align-items: center;">
                    <span style="color: var(--gold); margin-right: 15px; font-weight: 800; font-size: 1.2em;">{{
                        item.key }}.</span> {{
                    item.def }}
                </div>
                {% endfor %}
                {% else %}
                {% for item in slide.shuffled %}
                <div data-id="moving-def-{{ item.id }}"
                    style="background: rgba(255, 255, 255, 0.05); border-left: 5px solid #334155; padding: 10px 20px; font-size: 26px; font-weight: 600; color: #f8fafc; height: 55px; display: flex; align-items: center;">
                    <span style="color: var(--gold); margin-right: 15px; font-weight: 800; font-size: 1.2em;">{{
                        item.key }}.</span> {{
                    item.def }}
                </div>
                {% endfor %}
                {% endif %}
            </div>
        </div>
    </div>

    <aside class="notes">
        {{ slide.notes }}
    </aside>
</section>